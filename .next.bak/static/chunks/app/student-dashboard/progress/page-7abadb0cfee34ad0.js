(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{3158:(e,s,t)=>{Promise.resolve().then(t.bind(t,99250))},5040:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},13052:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},16785:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},33109:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},33894:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var l=t(95155),a=t(12115);function r(e){let{progress:s,size:t=120,strokeWidth:r=8,showLabel:d=!0,labelSize:c="md",color:o="gold"}=e,n=(0,a.useRef)(null),i=(t-r)/2,x=2*i*Math.PI,m=x-s/100*x;(0,a.useEffect)(()=>{n.current&&(n.current.style.strokeDashoffset="".concat(m))},[m]);let h=(()=>{switch(o){case"green":return{bg:"stroke-green-900/30",progress:"stroke-green-500",text:"text-green-400"};case"blue":return{bg:"stroke-blue-900/30",progress:"stroke-blue-500",text:"text-blue-400"};default:return{bg:"stroke-gold-900/30",progress:"stroke-gold-500",text:"text-gold-400"}}})();return(0,l.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"transform -rotate-90",width:t,height:t,children:[(0,l.jsx)("circle",{className:h.bg,strokeWidth:r,fill:"none",r:i,cx:t/2,cy:t/2}),(0,l.jsx)("circle",{ref:n,className:"".concat(h.progress," transition-all duration-1000 ease-out"),strokeWidth:r,strokeDasharray:x,strokeDashoffset:x,strokeLinecap:"round",fill:"none",r:i,cx:t/2,cy:t/2})]}),d&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("span",{className:"font-bold ".concat(h.text," ").concat((()=>{switch(c){case"sm":return"text-lg";case"lg":return"text-3xl";default:return"text-2xl"}})()),children:[s,"%"]})})]})}},35494:(e,s,t)=>{"use strict";t.d(s,{A:()=>x});var l=t(95155),a=t(12115),r=t(6874),d=t.n(r),c=t(35695),o=t(13052),n=t(57340),i=t(38274);function x(e){let{items:s,separator:t=(0,l.jsx)(o.A,{className:"w-4 h-4 text-gold-600"}),showHome:r=!0,maxItems:x=5,className:m=""}=e,h=(0,c.usePathname)(),u=s||(()=>{let e=h.split("/").filter(Boolean),s=[];r&&s.push({label:"In\xedcio",href:"dashboard"===e[0]?"/dashboard":"/student-dashboard",icon:(0,l.jsx)(n.A,{className:"w-4 h-4"})});let t="";return e.forEach((l,a)=>{if(t+="/".concat(l),r&&0===a&&("dashboard"===l||"student-dashboard"===l))return;let d=l.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");s.push({label:d,href:a===e.length-1?void 0:t})}),s})(),g=u.length<=x?u:[u[0],{label:"...",href:void 0},...u.slice(-(x-2))];return(0,l.jsx)("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 ".concat(m),children:g.map((e,s)=>(0,l.jsxs)(a.Fragment,{children:[s>0&&(0,l.jsx)("span",{className:"text-gold-600",children:t}),(0,l.jsx)(i.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"flex items-center",children:e.href?(0,l.jsxs)(d(),{href:e.href,className:"flex items-center gap-1.5 text-sm font-medium text-gold-400 hover:text-gold-200 transition-colors",children:[e.icon,(0,l.jsx)("span",{children:e.label})]}):(0,l.jsxs)("span",{className:"flex items-center gap-1.5 text-sm font-medium text-gold-100","aria-current":"page",children:[e.icon,(0,l.jsx)("span",{children:e.label})]})})]},s))})}},39881:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},40646:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},57340:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},69037:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},72713:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},79397:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(19946).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},99250:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b,dynamic:()=>y});var l=t(95155),a=t(12115),r=t(16785),d=t(40646),c=t(14186),o=t(33109),n=t(5040),i=t(69037),x=t(39881),m=t(79397),h=t(72713),u=t(79720),g=t(60567),p=t(35494),j=t(33894),f=t(46414),N=t(30461),v=t(35695);let y="force-dynamic";function b(){var e,s;let[t,y]=(0,a.useState)(!0),[b,w]=(0,a.useState)([]),[A,k]=(0,a.useState)([]),[_,M]=(0,a.useState)({totalCourses:0,completedCourses:0,totalLessons:0,completedLessons:0,totalHours:0,completedHours:0,averageProgress:0,currentStreak:0}),{t:C}=(0,N.B)(),L=(0,v.useRouter)(),S=(0,f.U)();(0,a.useEffect)(()=>{E()},[]);let E=async()=>{try{let{data:{user:e}}=await S.auth.getUser();if(!e)return void L.push("/");let{data:s}=await S.rpc("get_user_progress_stats",{p_user_id:e.id}).single();s&&M({totalCourses:s.total_enrolled_courses||0,completedCourses:s.completed_courses||0,totalLessons:s.total_lessons||0,completedLessons:s.completed_lessons||0,totalHours:Math.round(s.total_hours_content||0),completedHours:Math.round(s.hours_completed||0),averageProgress:s.overall_progress||0,currentStreak:s.current_streak||0});let{data:t}=await S.from("enrollments").select("\n          *,\n          course:courses(*)\n        ").eq("user_id",e.id).order("enrolled_at",{ascending:!1});if(t){let e=[];for(let s of t)if(s.course){let{data:t}=await S.from("course_modules").select("id").eq("course_id",s.course_id),l=(null==t?void 0:t.map(e=>e.id))||[],{data:a}=await S.from("lessons").select("id").in("module_id",l),{data:r}=await S.from("lesson_progress").select("lesson_id").eq("enrollment_id",s.id).eq("is_completed",!0),d=(null==a?void 0:a.length)||0,c=(null==r?void 0:r.length)||0;e.push({course:s.course,enrollment:s,totalLessons:d,completedLessons:c,progress:s.progress_percentage||0,hoursCompleted:Math.round((s.course.duration_hours||0)*(s.progress_percentage||0)/100),lastActivity:s.enrolled_at||void 0})}w(e)}let{data:l}=await S.from("lesson_progress").select("completed_at").eq("user_id",e.id).eq("is_completed",!0).gte("completed_at",new Date(Date.now()-6048e5).toISOString());if(l){let e={},s=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"];s.forEach(s=>{e[s]=0}),l.forEach(t=>{if(t.completed_at){let l=s[new Date(t.completed_at).getDay()];e[l]++}});let t=s.map(s=>({day:s,lessons:e[s],hours:Math.round(.5*e[s])}));k(t)}}catch(e){console.error("Error fetching progress data:",e)}finally{y(!1)}},P=e=>e>=80?"text-green-400":e>=50?"text-blue-400":e>=20?"text-yellow-400":"text-red-400";return t?(0,l.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,l.jsx)(g.A,{size:"xl"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(p.A,{className:"mb-2"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold text-gold flex items-center gap-2",children:[(0,l.jsx)(r.A,{className:"w-8 h-8 text-gold-400"}),"Meu Progresso"]}),(0,l.jsx)("p",{className:"text-gold-300 mt-1",children:"Acompanhe seu desempenho e evolu\xe7\xe3o nos cursos"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsx)(u.Ay,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gold-300 text-sm",children:"Progresso Geral"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gold",children:[_.averageProgress,"%"]})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(j.A,{progress:_.averageProgress,size:80,strokeWidth:6,showLabel:!1})})]})}),(0,l.jsx)(u.Ay,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gold-300 text-sm",children:"Li\xe7\xf5es Completadas"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-gold",children:_.completedLessons}),(0,l.jsxs)("p",{className:"text-sm text-gold-400",children:["de ",_.totalLessons," total"]})]}),(0,l.jsx)(d.A,{className:"w-10 h-10 text-green-500/30"})]})}),(0,l.jsx)(u.Ay,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gold-300 text-sm",children:"Horas Estudadas"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gold",children:[_.completedHours,"h"]}),(0,l.jsxs)("p",{className:"text-sm text-gold-400",children:["de ",_.totalHours,"h total"]})]}),(0,l.jsx)(c.A,{className:"w-10 h-10 text-blue-500/30"})]})}),(0,l.jsx)(u.Ay,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gold-300 text-sm",children:"Sequ\xeancia Atual"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-gold",children:_.currentStreak}),(0,l.jsx)("p",{className:"text-sm text-gold-400",children:"dias consecutivos"})]}),(0,l.jsx)(o.A,{className:"w-10 h-10 text-gold-500/30"})]})})]}),(0,l.jsx)(u.Ay,{title:"Progresso Semanal",subtitle:"Atividade nos \xfaltimos 7 dias",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-7 gap-2",children:A.map((e,s)=>(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-xs text-gold-400 mb-2",children:e.day}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-full bg-navy-800 rounded-lg h-24 flex items-end",children:(0,l.jsx)("div",{className:"w-full bg-gradient-to-t from-gold-500 to-gold-400 rounded-lg transition-all duration-500",style:{height:"".concat(Math.min(20*e.lessons,100),"%")}})}),(0,l.jsx)("p",{className:"text-xs text-gold-300 mt-1",children:e.lessons})]})]},s))}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-4 text-sm text-gold-400",children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-gold-500 rounded"}),"Li\xe7\xf5es completadas"]})})]})}),(0,l.jsx)(u.Ay,{title:"Progresso por Curso",subtitle:"Detalhamento do seu avan\xe7o em cada curso",children:(0,l.jsx)("div",{className:"space-y-4",children:b.length>0?b.map(e=>{var s;return(0,l.jsxs)("div",{className:"bg-navy-900/50 rounded-xl p-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gold",children:e.course.title}),(0,l.jsx)("p",{className:"text-gold-300 text-sm mt-1",children:e.course.category})]}),(0,l.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm ".concat((s=e.progress)>=80?"bg-green-500/20":s>=50?"bg-blue-500/20":s>=20?"bg-yellow-500/20":"bg-red-500/20"," ").concat(P(e.progress)),children:[e.progress,"%"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.A,{className:"w-5 h-5 text-gold-500/50"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gold-400",children:"Li\xe7\xf5es"}),(0,l.jsxs)("p",{className:"text-gold-200",children:[e.completedLessons," / ",e.totalLessons]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(c.A,{className:"w-5 h-5 text-gold-500/50"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gold-400",children:"Tempo"}),(0,l.jsxs)("p",{className:"text-gold-200",children:[e.hoursCompleted,"h / ",e.course.duration_hours,"h"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 text-gold-500/50"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gold-400",children:"Status"}),(0,l.jsx)("p",{className:"text-gold-200",children:"completed"===e.enrollment.status?"Conclu\xeddo":"Em andamento"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-gold-300",children:"Progresso do Curso"}),(0,l.jsxs)("span",{className:"font-medium ".concat(P(e.progress)),children:[e.progress,"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-navy-800 rounded-full h-3",children:(0,l.jsx)("div",{className:"h-3 rounded-full transition-all duration-1000 ".concat(e.progress>=80?"bg-gradient-to-r from-green-500 to-green-600":e.progress>=50?"bg-gradient-to-r from-blue-500 to-blue-600":e.progress>=20?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-red-500 to-red-600"),style:{width:"".concat(e.progress,"%")}})})]}),e.progress>0&&(0,l.jsx)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:e.progress>=80?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.A,{className:"w-4 h-4 text-green-400"}),(0,l.jsx)("span",{className:"text-green-400",children:"Excelente progresso! Continue assim!"})]}):e.progress>=50?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.A,{className:"w-4 h-4 text-blue-400"}),(0,l.jsx)("span",{className:"text-blue-400",children:"Bom ritmo! Mais da metade conclu\xedda."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.A,{className:"w-4 h-4 text-yellow-400"}),(0,l.jsx)("span",{className:"text-yellow-400",children:"Continue estudando para avan\xe7ar!"})]})})]},e.enrollment.id)}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(h.A,{className:"w-16 h-16 text-gold-500/30 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gold-300 text-lg",children:"Voc\xea ainda n\xe3o est\xe1 matriculado em nenhum curso"}),(0,l.jsx)("p",{className:"text-gold-400 text-sm mt-2",children:"Explore nossos cursos para come\xe7ar sua jornada de aprendizado"})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsx)(u.Ay,{title:"Conquistas Recentes",children:(0,l.jsxs)("div",{className:"space-y-3",children:[_.completedCourses>0&&(0,l.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-green-500/10 rounded-lg",children:[(0,l.jsx)(i.A,{className:"w-8 h-8 text-green-400"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-green-400 font-medium",children:[_.completedCourses," Cursos Conclu\xeddos"]}),(0,l.jsx)("p",{className:"text-sm text-green-400/70",children:"Parab\xe9ns pela dedica\xe7\xe3o!"})]})]}),_.currentStreak>=7&&(0,l.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gold-500/10 rounded-lg",children:[(0,l.jsx)(o.A,{className:"w-8 h-8 text-gold-400"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-gold-400 font-medium",children:["Sequ\xeancia de ",_.currentStreak," dias"]}),(0,l.jsx)("p",{className:"text-sm text-gold-400/70",children:"Consist\xeancia \xe9 a chave!"})]})]}),_.completedLessons>=50&&(0,l.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-blue-500/10 rounded-lg",children:[(0,l.jsx)(r.A,{className:"w-8 h-8 text-blue-400"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-blue-400 font-medium",children:[_.completedLessons," Li\xe7\xf5es Completadas"]}),(0,l.jsx)("p",{className:"text-sm text-blue-400/70",children:"Excelente progresso!"})]})]})]})}),(0,l.jsx)(u.Ay,{title:"Metas de Estudo",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-gold-300 text-sm",children:"Meta di\xe1ria: 2 li\xe7\xf5es"}),(0,l.jsxs)("span",{className:"text-gold-400 text-sm font-medium",children:[(null==(e=A.find(e=>e.day===new Date().toLocaleDateString("pt-BR",{weekday:"short"}).slice(0,3)))?void 0:e.lessons)||0,"/2"]})]}),(0,l.jsx)("div",{className:"w-full bg-navy-800 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(((null==(s=A.find(e=>e.day===new Date().toLocaleDateString("pt-BR",{weekday:"short"}).slice(0,3)))?void 0:s.lessons)||0)/2*100,100),"%")}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-gold-300 text-sm",children:"Meta semanal: 10 li\xe7\xf5es"}),(0,l.jsxs)("span",{className:"text-gold-400 text-sm font-medium",children:[A.reduce((e,s)=>e+s.lessons,0),"/10"]})]}),(0,l.jsx)("div",{className:"w-full bg-navy-800 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(A.reduce((e,s)=>e+s.lessons,0)/10*100,100),"%")}})})]})]})})]})]})}}},e=>{e.O(0,[3254,9051,7244,1338,9760,8441,5964,7358],()=>e(e.s=3158)),_N_E=e.O()}]);