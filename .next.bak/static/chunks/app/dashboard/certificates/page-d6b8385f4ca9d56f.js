(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7038],{767:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(95155),r=s(12115),l=s(60567),i=s(38274),n=s(30461);let o=(0,r.forwardRef)((e,t)=>{let{children:s,variant:o="primary",size:c="md",isLoading:d=!1,loading:x=!1,icon:m,iconPosition:p="left",fullWidth:h=!1,rounded:g="lg",pulse:u=!1,glow:f=!1,enableMotion:j=!1,ripple:v=!0,className:y="",disabled:N,onClick:b,...w}=e,{t:A}=(0,n.B)(),_=(0,r.useRef)(null),k=d||x,C=e=>{N||k||(e=>{if(!v)return;let s=_.current||(null==t?void 0:t.current);if(!s)return;let a=s.getBoundingClientRect(),r=document.createElement("span"),l=Math.max(a.width,a.height),i=e.clientX-a.left-l/2,n=e.clientY-a.top-l/2;r.style.width=r.style.height=l+"px",r.style.left=i+"px",r.style.top=n+"px",r.classList.add("ripple"),s.appendChild(r),setTimeout(()=>{r.remove()},600)})(e),null==b||b(e)},S="\n    relative overflow-hidden font-semibold ".concat({sm:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[g],"\n    transition-all duration-300 ease-out\n    focus:outline-none focus:ring-2 focus:ring-offset-2 \n    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n    flex items-center justify-center gap-2\n    transform active:scale-[0.98]\n    ").concat(h?"w-full":"","\n    ").concat(u?"animate-pulse":"","\n    ").concat(f?"shadow-glow hover:shadow-glow-lg":"","\n    before:absolute before:inset-0 before:opacity-0 before:transition-opacity before:duration-300\n    hover:before:opacity-100\n  "),z={primary:"\n      bg-gradient-to-r from-gold-500 to-gold-600 \n      hover:from-gold-600 hover:to-gold-700 \n      text-navy-900 \n      focus:ring-gold-400 focus:ring-offset-navy-800 \n      hover:shadow-xl\n      shadow-lg shadow-gold-500/20\n      before:bg-gradient-to-r before:from-gold-400/20 before:to-transparent\n      group\n    ",secondary:"\n      bg-navy-700/50 hover:bg-navy-600/50 \n      text-gold-200 hover:text-gold-100\n      border border-gold-500/30 hover:border-gold-500/50\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      backdrop-blur-sm\n      hover:shadow-md hover:shadow-gold-500/10\n      before:bg-gradient-to-r before:from-gold-500/10 before:to-transparent\n    ",danger:"\n      bg-red-600 hover:bg-red-700 \n      text-white \n      focus:ring-red-400 focus:ring-offset-navy-800\n      hover:shadow-lg shadow-red-500/20\n      before:bg-gradient-to-r before:from-red-400/20 before:to-transparent\n    ",ghost:"\n      bg-transparent hover:bg-gold-500/10\n      text-gold-300 hover:text-gold-100\n      border border-transparent hover:border-gold-500/20\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      before:bg-gold-500/5\n    ",gradient:"\n      bg-gradient-to-r from-purple-500 via-gold-500 to-gold-600\n      text-white font-bold\n      hover:shadow-2xl\n      focus:ring-gold-400 focus:ring-offset-navy-800\n      bg-[length:200%_100%] bg-[position:0%_0%]\n      hover:bg-[position:100%_0%]\n      transition-all duration-500\n      before:bg-white/10\n    ",outline:"\n      bg-transparent \n      text-gold-400 hover:text-gold-300\n      border-2 border-gold-500/50 hover:border-gold-400\n      hover:bg-gold-500/10\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-md hover:shadow-gold-500/20\n      before:bg-gold-500/5\n    ",subtle:"\n      bg-gold-500/10 hover:bg-gold-500/20\n      text-gold-300 hover:text-gold-200\n      border border-gold-500/20 hover:border-gold-500/30\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-sm\n      before:bg-gold-500/5\n    ",success:"\n      bg-gradient-to-r from-green-500 to-green-600\n      hover:from-green-600 hover:to-green-700\n      text-white\n      focus:ring-green-400 focus:ring-offset-navy-800\n      hover:shadow-lg\n      shadow-md shadow-green-500/20\n      before:bg-gradient-to-r before:from-green-400/20 before:to-transparent\n    "},F={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl"},D=(0,a.jsxs)(a.Fragment,{children:[k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{size:"xs"===c?"sm":c,className:"mr-1"}),(0,a.jsx)("span",{className:"sr-only",children:A("common.loading")}),(0,a.jsx)("span",{"aria-hidden":"true",children:A("common.loading")})]}):(0,a.jsxs)(a.Fragment,{children:[m&&"left"===p&&(0,a.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-x-0.5","aria-hidden":"true",children:m}),(0,a.jsxs)("span",{className:"relative z-10",children:[s,"gradient"===o&&(0,a.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),m&&"right"===p&&(0,a.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:translate-x-0.5","aria-hidden":"true",children:m})]}),(0,a.jsx)("span",{className:"absolute inset-0 rounded-inherit overflow-hidden pointer-events-none",children:(0,a.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})})]}),{onAnimationStart:q,...E}=w;return j?(0,a.jsx)(i.P.button,{ref:t||_,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"group ".concat(S," ").concat(z[o]," ").concat(F[c]," ").concat(y),disabled:N||k,onClick:C,"data-theme-variant":o,...E,children:D}):(0,a.jsx)("button",{ref:t||_,className:"group ".concat(S," ").concat(z[o]," ").concat(F[c]," hover:-translate-y-0.5 ").concat(y),disabled:N||k,onClick:C,"data-theme-variant":o,...E,children:D})});o.displayName="Button";let c=o},35494:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var a=s(95155),r=s(12115),l=s(6874),i=s.n(l),n=s(35695),o=s(13052),c=s(57340),d=s(38274);function x(e){let{items:t,separator:s=(0,a.jsx)(o.A,{className:"w-4 h-4 text-gold-600"}),showHome:l=!0,maxItems:x=5,className:m=""}=e,p=(0,n.usePathname)(),h=t||(()=>{let e=p.split("/").filter(Boolean),t=[];l&&t.push({label:"In\xedcio",href:"dashboard"===e[0]?"/dashboard":"/student-dashboard",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"})});let s="";return e.forEach((a,r)=>{if(s+="/".concat(a),l&&0===r&&("dashboard"===a||"student-dashboard"===a))return;let i=a.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");t.push({label:i,href:r===e.length-1?void 0:s})}),t})(),g=h.length<=x?h:[h[0],{label:"...",href:void 0},...h.slice(-(x-2))];return(0,a.jsx)("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 ".concat(m),children:g.map((e,t)=>(0,a.jsxs)(r.Fragment,{children:[t>0&&(0,a.jsx)("span",{className:"text-gold-600",children:s}),(0,a.jsx)(d.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center",children:e.href?(0,a.jsxs)(i(),{href:e.href,className:"flex items-center gap-1.5 text-sm font-medium text-gold-400 hover:text-gold-200 transition-colors",children:[e.icon,(0,a.jsx)("span",{children:e.label})]}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-sm font-medium text-gold-100","aria-current":"page",children:[e.icon,(0,a.jsx)("span",{children:e.label})]})})]},t))})}},40646:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44737:(e,t,s)=>{Promise.resolve().then(s.bind(s,69354))},54861:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},57434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},62525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},69354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(95155),r=s(12115),l=s(69037),i=s(85339),n=s(40646),o=s(54861),c=s(71007),d=s(69074);let x=(0,s(19946).A)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var m=s(54416),p=s(14186),h=s(92657),g=s(91788),u=s(62525),f=s(57434),j=s(75525),v=s(79720),y=s(35494),N=s(60567),b=s(767),w=s(46414),A=s(75862);function _(){var e,t,s,_;let[k,C]=(0,r.useState)(null),[S,z]=(0,r.useState)(!1),[F,D]=(0,r.useState)(!0),[q,E]=(0,r.useState)([]),[B,R]=(0,r.useState)([]),[T,P]=(0,r.useState)([]),[M,H]=(0,r.useState)(null),[L,I]=(0,r.useState)(null),[U,O]=(0,r.useState)("all"),[W,V]=(0,r.useState)("requests"),[G,X]=(0,r.useState)(""),[Y,Z]=(0,r.useState)(null),[J,K]=(0,r.useState)(!1),Q=(0,r.useRef)(null),$=(0,w.U)();(0,r.useEffect)(()=>{ee()},[]);let ee=async()=>{try{let{data:{user:e}}=await $.auth.getUser();if(!e)return;let{data:t}=await $.from("certificate_requests").select("*").order("request_date",{ascending:!1}),s=await Promise.all((t||[]).map(async e=>{let[t,s]=await Promise.all([$.from("profiles").select("*").eq("id",e.user_id).single(),$.from("courses").select("*").eq("id",e.course_id).single()]);return{...e,user:t.data,course:s.data}}));P(s);let{data:a}=await $.from("enrollments").select("\n          *,\n          course:courses(*),\n          user:profiles(*)\n        ").eq("status","completed").order("completed_at",{ascending:!1}),{data:r}=await $.from("certificates").select("\n          *,\n          user:profiles!certificates_user_id_fkey(*),\n          course:courses!certificates_course_id_fkey(*)\n        ").order("issued_at",{ascending:!1}),l=(null==a?void 0:a.map(e=>({...e,certificate:null==r?void 0:r.find(t=>t.enrollment_id===e.id)})))||[];E(l),R(r||[])}catch(e){console.error("Error fetching data:",e)}finally{D(!1)}},et=async e=>{I(e);try{let{data:{user:t}}=await $.auth.getUser();if(!t)return;let{data:s,error:a}=await $.rpc("approve_certificate_request",{p_request_id:e,p_admin_id:t.id});!a&&s?(await ee(),alert("Certificado aprovado com sucesso!")):(console.error("Error approving certificate:",a),alert("Erro ao aprovar certificado"))}catch(e){console.error("Error:",e),alert("Erro ao aprovar certificado")}finally{I(null)}},es=async e=>{if(!G.trim())return void alert("Por favor, forne\xe7a um motivo para a rejei\xe7\xe3o");I(e);try{let{data:{user:t}}=await $.auth.getUser();if(!t)return;let{data:s,error:a}=await $.rpc("reject_certificate_request",{p_request_id:e,p_admin_id:t.id,p_reason:G});!a&&s?(await ee(),alert("Requisi\xe7\xe3o rejeitada"),Z(null),X("")):(console.error("Error rejecting certificate:",a),alert("Erro ao rejeitar requisi\xe7\xe3o"))}catch(e){console.error("Error:",e),alert("Erro ao rejeitar requisi\xe7\xe3o")}finally{I(null)}},ea=async e=>{if(confirm("Tem certeza que deseja excluir este certificado?"))try{let{error:t}=await $.from("certificates").delete().eq("id",e);t||(await ee(),alert("Certificado exclu\xeddo com sucesso"))}catch(e){console.error("Error deleting certificate:",e),alert("Erro ao excluir certificado")}},er=async e=>{try{K(!0),C(e),await new Promise(e=>setTimeout(e,100)),await (0,A.r)("certificate-pdf-admin","certificado-".concat(e.certificate_number,".pdf")),C(null)}catch(e){console.error("Error generating certificate PDF:",e),alert("Erro ao gerar o certificado. Por favor, tente novamente.")}finally{K(!1)}},el=B.filter(e=>"approved"===U?"approved"===e.approval_status:"rejected"===U?"rejected"===e.approval_status:"pending"!==U||"pending"===e.approval_status),ei={total:B.length,pending:B.filter(e=>"pending"===e.approval_status).length,approved:B.filter(e=>"approved"===e.approval_status).length,rejected:B.filter(e=>"rejected"===e.approval_status).length,requests:T.filter(e=>"pending"===e.status).length};return F?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,a.jsx)(N.A,{size:"xl"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(y.A,{className:"mb-2"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gold flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-8 h-8 text-gold-400"}),"Certificados"]}),(0,a.jsx)("p",{className:"text-gold-300 mt-1",children:"Gerencie a emiss\xe3o de certificados para cursos conclu\xeddos"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(v.Ay,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-300 text-sm",children:"Requisi\xe7\xf5es Pendentes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gold mt-1",children:ei.requests})]}),(0,a.jsx)(i.A,{className:"w-8 h-8 text-orange-500/30"})]})}),(0,a.jsx)(v.Ay,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-300 text-sm",children:"Total de Certificados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gold mt-1",children:ei.total})]}),(0,a.jsx)(l.A,{className:"w-8 h-8 text-gold-500/30"})]})}),(0,a.jsx)(v.Ay,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-300 text-sm",children:"Aprovados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gold mt-1",children:ei.approved})]}),(0,a.jsx)(n.A,{className:"w-8 h-8 text-green-500/30"})]})}),(0,a.jsx)(v.Ay,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-300 text-sm",children:"Rejeitados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gold mt-1",children:ei.rejected})]}),(0,a.jsx)(o.A,{className:"w-8 h-8 text-red-500/30"})]})})]}),(0,a.jsx)(v.Ay,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(b.A,{variant:"requests"===W?"primary":"secondary",size:"sm",onClick:()=>V("requests"),icon:(0,a.jsx)(i.A,{className:"w-4 h-4"}),children:["Requisi\xe7\xf5es Pendentes (",ei.requests,")"]}),(0,a.jsx)(b.A,{variant:"certificates"===W?"primary":"secondary",size:"sm",onClick:()=>V("certificates"),icon:(0,a.jsx)(l.A,{className:"w-4 h-4"}),children:"Certificados"})]})}),"requests"===W&&(0,a.jsx)(v.Ay,{children:(0,a.jsx)("div",{className:"overflow-x-auto table-sticky",children:(0,a.jsxs)("table",{className:"w-full min-w-[1100px] table-density density-compact",children:[(0,a.jsx)("thead",{className:"bg-navy-800/80 backdrop-blur-sm sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gold-500/20",children:[(0,a.jsx)("th",{scope:"col",className:"text-left text-gold-200 font-medium uppercase text-xs tracking-wider w-[300px]",children:"Aluno"}),(0,a.jsx)("th",{scope:"col",className:"text-left text-gold-200 font-medium uppercase text-xs tracking-wider min-w-[280px]",children:"Curso"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[100px]",children:"Li\xe7\xf5es"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[140px]",children:"Solicitado em"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[100px]",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[200px]",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gold-500/10",children:T.filter(e=>"pending"===e.status).length>0?T.filter(e=>"pending"===e.status).map(e=>{var t,s,r,l,i,n,o;return(0,a.jsxs)("tr",{className:"hover:bg-navy-800/30 transition-colors",children:[(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gold-400"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-gold-100 font-medium text-sm truncate",title:(null==(t=e.user)?void 0:t.full_name)||void 0,children:(null==(s=e.user)?void 0:s.full_name)||"Sem nome"}),(0,a.jsx)("p",{className:"text-gold-500 text-xs truncate",title:(null==(r=e.user)?void 0:r.email)||void 0,children:null==(l=e.user)?void 0:l.email})]})]})}),(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gold-100 text-sm leading-tight line-clamp-2",title:(null==(i=e.course)?void 0:i.title)||void 0,children:null==(n=e.course)?void 0:n.title}),(0,a.jsxs)("p",{className:"text-gold-500 text-xs",children:[null==(o=e.course)?void 0:o.duration_hours,"h"]})]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:(0,a.jsxs)("span",{className:"text-gold-100 font-semibold text-sm",children:[e.completed_lessons,"/",e.total_lessons]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-gold-300",children:[(0,a.jsx)(d.A,{className:"w-3.5 h-3.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs whitespace-nowrap",children:e.request_date?new Date(e.request_date).toLocaleDateString("pt-BR"):"-"})]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 whitespace-nowrap",children:"Pendente"})}),(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(b.A,{variant:"primary",size:"sm",onClick:()=>et(e.id),disabled:L===e.id,icon:L===e.id?(0,a.jsx)(N.A,{size:"sm"}):(0,a.jsx)(x,{className:"w-4 h-4"}),title:"Aprovar",className:"!px-3 !py-1.5",children:"Aprovar"}),(0,a.jsx)(b.A,{variant:"secondary",size:"sm",onClick:()=>Z(e.id),disabled:L===e.id,icon:(0,a.jsx)(m.A,{className:"w-4 h-4"}),title:"Rejeitar",className:"!px-3 !py-1.5",children:"Rejeitar"})]})})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:7,className:"py-12 text-center",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 text-gold-500/30 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gold-300",children:"Nenhuma requisi\xe7\xe3o pendente"})]})})})]})})}),"certificates"===W&&(0,a.jsxs)(v.Ay,{children:[(0,a.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,a.jsxs)(b.A,{variant:"all"===U?"primary":"secondary",size:"sm",onClick:()=>O("all"),children:["Todos (",ei.total,")"]}),(0,a.jsxs)(b.A,{variant:"approved"===U?"primary":"secondary",size:"sm",onClick:()=>O("approved"),icon:(0,a.jsx)(n.A,{className:"w-4 h-4"}),children:["Aprovados (",ei.approved,")"]}),(0,a.jsxs)(b.A,{variant:"rejected"===U?"primary":"secondary",size:"sm",onClick:()=>O("rejected"),icon:(0,a.jsx)(o.A,{className:"w-4 h-4"}),children:["Rejeitados (",ei.rejected,")"]}),(0,a.jsxs)(b.A,{variant:"pending"===U?"primary":"secondary",size:"sm",onClick:()=>O("pending"),icon:(0,a.jsx)(p.A,{className:"w-4 h-4"}),children:["Pendentes (",ei.pending,")"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto table-sticky",children:(0,a.jsxs)("table",{className:"w-full min-w-[1200px] table-density density-compact",children:[(0,a.jsx)("thead",{className:"bg-navy-800/80 backdrop-blur-sm sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gold-500/20",children:[(0,a.jsx)("th",{scope:"col",className:"text-left text-gold-200 font-medium uppercase text-xs tracking-wider w-[220px]",children:"N\xfamero"}),(0,a.jsx)("th",{scope:"col",className:"text-left text-gold-200 font-medium uppercase text-xs tracking-wider w-[280px]",children:"Aluno"}),(0,a.jsx)("th",{scope:"col",className:"text-left text-gold-200 font-medium uppercase text-xs tracking-wider min-w-[250px]",children:"Curso"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[80px]",children:"Nota"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[140px]",children:"Emitido em"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[100px]",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-gold-200 font-medium uppercase text-xs tracking-wider w-[150px]",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gold-500/10",children:el.length>0?el.map(e=>{var t,s,r,l,i,n;return(0,a.jsxs)("tr",{className:"hover:bg-navy-800/30 transition-colors",children:[(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gold-100 text-xs font-mono truncate",title:e.certificate_number,children:e.certificate_number}),(0,a.jsxs)("p",{className:"text-gold-500 text-[10px] font-mono truncate",title:e.verification_code,children:["C\xf3digo: ",e.verification_code]})]})}),(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gold-400"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-gold-100 font-medium text-sm truncate",title:null==(t=e.user)?void 0:t.full_name,children:(null==(s=e.user)?void 0:s.full_name)||"Sem nome"}),(0,a.jsx)("p",{className:"text-gold-500 text-xs truncate",title:null==(r=e.user)?void 0:r.email,children:null==(l=e.user)?void 0:l.email})]})]})}),(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gold-100 text-sm leading-tight line-clamp-2",title:null==(i=e.course)?void 0:i.title,children:null==(n=e.course)?void 0:n.title}),(0,a.jsxs)("p",{className:"text-gold-500 text-xs",children:[e.course_hours,"h"]})]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:(0,a.jsxs)("span",{className:"text-gold-100 font-semibold text-sm",children:[e.grade||0,"%"]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-gold-300",children:[(0,a.jsx)(d.A,{className:"w-3.5 h-3.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs whitespace-nowrap",children:e.issued_at?new Date(e.issued_at).toLocaleDateString("pt-BR"):"-"})]})}),(0,a.jsx)("td",{className:"py-5 px-6 text-center align-middle",children:"approved"===e.approval_status?(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 whitespace-nowrap",children:"Aprovado"}):"rejected"===e.approval_status?(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 whitespace-nowrap",children:"Rejeitado"}):(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400 whitespace-nowrap",children:"Pendente"})}),(0,a.jsx)("td",{className:"py-5 px-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(b.A,{variant:"secondary",size:"sm",onClick:()=>{C(e),z(!0)},title:"Visualizar",className:"!p-2",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})}),(0,a.jsx)(b.A,{variant:"secondary",size:"sm",onClick:()=>er(e),title:"Baixar",disabled:J,className:"!p-2",children:(0,a.jsx)(g.A,{className:"w-4 h-4"})}),(0,a.jsx)(b.A,{variant:"secondary",size:"sm",onClick:()=>ea(e.id),title:"Excluir",className:"!p-2",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})]})})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:7,className:"py-12 text-center",children:[(0,a.jsx)(f.A,{className:"w-12 h-12 text-gold-500/30 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gold-300",children:"pending"===U?"Nenhum certificado pendente":"approved"===U?"Nenhum certificado aprovado":"rejected"===U?"Nenhum certificado rejeitado":"Nenhum certificado encontrado"})]})})})]})})]}),S&&k&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"max-w-3xl w-full",children:(0,a.jsxs)(v.Ay,{variant:"elevated",className:"relative",children:[(0,a.jsx)("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-gold-400 hover:text-gold-200 transition-colors z-10","aria-label":"Fechar visualiza\xe7\xe3o do certificado",children:(0,a.jsx)(m.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-gold-500 to-gold-600 rounded-full flex items-center justify-center shadow-2xl",children:(0,a.jsx)(l.A,{className:"w-12 h-12 text-navy-900"})})}),(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gold to-gold-300 bg-clip-text text-transparent",children:"CERTIFICADO"}),(0,a.jsx)("p",{className:"text-lg text-gold-400 mt-2",children:"DE CONCLUS\xc3O"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsx)("p",{className:"text-gold-300",children:"Certificamos que"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gold",children:(null==(e=k.user)?void 0:e.full_name)||"Nome do Aluno"}),(0,a.jsx)("p",{className:"text-gold-300",children:"concluiu com \xeaxito o curso de"}),(0,a.jsx)("p",{className:"text-3xl font-bold bg-gradient-to-r from-gold to-gold-300 bg-clip-text text-transparent",children:(null==(t=k.course)?void 0:t.title)||"T\xedtulo do Curso"}),(0,a.jsxs)("div",{className:"flex justify-center gap-8 mt-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-400 text-sm",children:"Carga Hor\xe1ria"}),(0,a.jsxs)("p",{className:"text-gold font-bold text-xl",children:[k.course_hours," horas"]})]}),k.grade&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gold-400 text-sm",children:"Aproveitamento"}),(0,a.jsxs)("p",{className:"text-gold font-bold text-xl",children:[k.grade,"%"]})]})]}),(0,a.jsxs)("p",{className:"text-gold-300 mt-6",children:["Emitido em ",k.issued_at?new Date(k.issued_at).toLocaleDateString("pt-BR"):"-"]})]}),(0,a.jsx)("div",{className:"mb-6",children:"approved"===k.approval_status?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{className:"text-green-400",children:"Certificado Aprovado"})]}):"rejected"===k.approval_status?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("span",{className:"text-red-400",children:"Certificado Rejeitado"})]}),k.rejection_reason&&(0,a.jsxs)("p",{className:"text-sm text-gold-400",children:["Motivo: ",k.rejection_reason]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("span",{className:"text-yellow-400",children:"Aguardando Aprova\xe7\xe3o"})]})}),(0,a.jsxs)("div",{className:"border-t border-gold-500/20 pt-6",children:[(0,a.jsxs)("p",{className:"text-xs text-gold-500",children:["N\xba ",k.certificate_number]}),(0,a.jsxs)("p",{className:"text-xs text-gold-500",children:["C\xf3digo de Verifica\xe7\xe3o: ",k.verification_code]})]}),k.instructor_name&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("div",{className:"border-t border-gold-500/30 w-48 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gold-400",children:k.instructor_name}),(0,a.jsx)("p",{className:"text-xs text-gold-500",children:"Instrutor"})]}),k.approved_by&&k.approved_at&&(0,a.jsx)("div",{className:"mt-6 text-xs text-gold-500",children:(0,a.jsxs)("p",{children:["Aprovado em ",new Date(k.approved_at).toLocaleDateString("pt-BR")]})})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-8",children:[(0,a.jsx)(b.A,{variant:"primary",onClick:()=>er(k),icon:(0,a.jsx)(g.A,{className:"w-4 h-4"}),disabled:J,children:J?"Gerando PDF...":"Baixar Certificado"}),(0,a.jsx)(b.A,{variant:"secondary",onClick:()=>z(!1),children:"Fechar"})]})]})})}),Y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)(v.Ay,{className:"w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gold mb-4",children:"Rejeitar Requisi\xe7\xe3o"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gold-300 mb-2",children:"Motivo da Rejei\xe7\xe3o"}),(0,a.jsx)("textarea",{value:G,onChange:e=>X(e.target.value),className:"w-full px-3 py-2 bg-navy-800 border border-gold-500/30 rounded-lg text-gold-100 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent",rows:4,placeholder:"Explique o motivo da rejei\xe7\xe3o..."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b.A,{variant:"primary",onClick:()=>es(Y),disabled:L===Y,icon:L===Y?(0,a.jsx)(N.A,{size:"sm"}):(0,a.jsx)(m.A,{className:"w-4 h-4"}),children:"Confirmar Rejei\xe7\xe3o"}),(0,a.jsx)(b.A,{variant:"secondary",onClick:()=>{Z(null),X("")},children:"Cancelar"})]})]})]})}),k&&(0,a.jsx)("div",{className:"fixed",style:{left:"-9999px",top:0},children:(0,a.jsx)("div",{id:"certificate-pdf-admin",ref:Q,style:{width:"1100px",height:"850px",background:"linear-gradient(135deg, #001a33 0%, #002244 100%)",padding:"60px",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"Open Sans, sans-serif"},children:(0,a.jsxs)("div",{style:{textAlign:"center",paddingTop:"40px"},children:[(0,a.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:(0,a.jsx)("div",{style:{width:"80px",height:"80px",backgroundColor:"#FFD700",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(255, 215, 0, 0.3)"},children:(0,a.jsx)(l.A,{style:{width:"40px",height:"40px",color:"#001a33"}})})}),(0,a.jsx)("h1",{style:{fontSize:"48px",fontWeight:"bold",marginBottom:"10px",color:"#FFD700",letterSpacing:"3px"},children:"CERTIFICADO"}),(0,a.jsx)("p",{style:{fontSize:"18px",color:"#FFD700",letterSpacing:"2px"},children:"DE CONCLUS\xc3O"})]}),(0,a.jsxs)("div",{style:{marginTop:"30px",marginBottom:"30px"},children:[(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.8,fontSize:"16px",marginBottom:"15px"},children:"Certificamos que"}),(0,a.jsx)("p",{style:{color:"#FFD700",fontSize:"28px",fontWeight:"bold",marginBottom:"20px"},children:(null==(s=k.user)?void 0:s.full_name)||"Aluno"}),(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.8,fontSize:"16px",marginBottom:"15px"},children:"concluiu com \xeaxito o curso de"}),(0,a.jsx)("p",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"30px",color:"#FFD700",lineHeight:"1.2"},children:(null==(_=k.course)?void 0:_.title)||"Curso"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"60px",marginTop:"30px",marginBottom:"30px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.7,fontSize:"14px",marginBottom:"5px"},children:"Carga Hor\xe1ria"}),(0,a.jsxs)("p",{style:{color:"#FFD700",fontSize:"20px",fontWeight:"bold"},children:[k.course_hours," horas"]})]}),k.grade&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.7,fontSize:"14px",marginBottom:"5px"},children:"Aproveitamento"}),(0,a.jsxs)("p",{style:{color:"#FFD700",fontSize:"20px",fontWeight:"bold"},children:[k.grade,"%"]})]})]}),(0,a.jsxs)("p",{style:{color:"#FFD700",opacity:.8,fontSize:"16px",marginTop:"20px"},children:["Emitido em ",k.issued_at?new Date(k.issued_at).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""]})]}),(0,a.jsxs)("div",{style:{marginTop:"40px",paddingTop:"30px",borderTop:"1px solid rgba(255, 215, 0, 0.3)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"7px",marginBottom:"18px"},children:[(0,a.jsx)(j.A,{style:{width:"18px",height:"18px",color:"#00ff00",display:"inline-block",marginTop:"3px"}}),(0,a.jsx)("span",{style:{color:"#00ff00",fontSize:"14px",display:"inline-block"},children:"Certificado Aut\xeantico"})]}),(0,a.jsxs)("p",{style:{color:"#FFD700",opacity:.7,fontSize:"12px",marginBottom:"5px"},children:["N\xba ",k.certificate_number]}),(0,a.jsxs)("p",{style:{color:"#FFD700",opacity:.7,fontSize:"12px"},children:["C\xf3digo de Verifica\xe7\xe3o: ",k.verification_code]})]}),k.instructor_name&&(0,a.jsxs)("div",{style:{marginTop:"40px"},children:[(0,a.jsx)("div",{style:{borderTop:"1px solid rgba(255, 215, 0, 0.5)",width:"200px",margin:"0 auto 10px"}}),(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.8,fontSize:"14px",marginBottom:"5px"},children:k.instructor_name}),(0,a.jsx)("p",{style:{color:"#FFD700",opacity:.6,fontSize:"12px"},children:"Instrutor"})]})]})})})]})}},71007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},75862:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var a=s(52699),r=s.n(a),l=s(26597);async function i(e,t){try{let s=document.getElementById(e);if(!s)throw Error("Certificate element not found");let a=(await r()(s,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#001a33",logging:!1,width:1100,height:850,windowWidth:1100,windowHeight:850})).toDataURL("image/png",1),i=new l.Ay({orientation:"landscape",unit:"mm",format:"a4",compress:!0}),n=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();i.addImage(a,"PNG",0,0,n,o,void 0,"FAST"),i.setProperties({title:"Certificado de Conclus\xe3o",subject:"Certificado SwiftEDU",author:"SwiftEDU",keywords:"certificado, conclus\xe3o, curso",creator:"SwiftEDU Platform"}),i.save(t)}catch(e){throw console.error("Error generating PDF:",e),e}}}},e=>{e.O(0,[4316,3930,3254,9051,7244,3979,1338,9760,8441,5964,7358],()=>e(e.s=44737)),_N_E=e.O()}]);