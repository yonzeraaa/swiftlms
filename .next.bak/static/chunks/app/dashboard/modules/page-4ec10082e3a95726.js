(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3971],{767:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(95155),o=s(12115),a=s(60567),l=s(38274),n=s(30461);let d=(0,o.forwardRef)((e,r)=>{let{children:s,variant:d="primary",size:i="md",isLoading:c=!1,loading:u=!1,icon:x,iconPosition:m="left",fullWidth:g=!1,rounded:h="lg",pulse:f=!1,glow:p=!1,enableMotion:b=!1,ripple:v=!0,className:j="",disabled:y,onClick:N,...w}=e,{t:_}=(0,n.B)(),A=(0,o.useRef)(null),S=c||u,k=e=>{y||S||(e=>{if(!v)return;let s=A.current||(null==r?void 0:r.current);if(!s)return;let t=s.getBoundingClientRect(),o=document.createElement("span"),a=Math.max(t.width,t.height),l=e.clientX-t.left-a/2,n=e.clientY-t.top-a/2;o.style.width=o.style.height=a+"px",o.style.left=l+"px",o.style.top=n+"px",o.classList.add("ripple"),s.appendChild(o),setTimeout(()=>{o.remove()},600)})(e),null==N||N(e)},q="\n    relative overflow-hidden font-semibold ".concat({sm:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[h],"\n    transition-all duration-300 ease-out\n    focus:outline-none focus:ring-2 focus:ring-offset-2 \n    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n    flex items-center justify-center gap-2\n    transform active:scale-[0.98]\n    ").concat(g?"w-full":"","\n    ").concat(f?"animate-pulse":"","\n    ").concat(p?"shadow-glow hover:shadow-glow-lg":"","\n    before:absolute before:inset-0 before:opacity-0 before:transition-opacity before:duration-300\n    hover:before:opacity-100\n  "),C={primary:"\n      bg-gradient-to-r from-gold-500 to-gold-600 \n      hover:from-gold-600 hover:to-gold-700 \n      text-navy-900 \n      focus:ring-gold-400 focus:ring-offset-navy-800 \n      hover:shadow-xl\n      shadow-lg shadow-gold-500/20\n      before:bg-gradient-to-r before:from-gold-400/20 before:to-transparent\n      group\n    ",secondary:"\n      bg-navy-700/50 hover:bg-navy-600/50 \n      text-gold-200 hover:text-gold-100\n      border border-gold-500/30 hover:border-gold-500/50\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      backdrop-blur-sm\n      hover:shadow-md hover:shadow-gold-500/10\n      before:bg-gradient-to-r before:from-gold-500/10 before:to-transparent\n    ",danger:"\n      bg-red-600 hover:bg-red-700 \n      text-white \n      focus:ring-red-400 focus:ring-offset-navy-800\n      hover:shadow-lg shadow-red-500/20\n      before:bg-gradient-to-r before:from-red-400/20 before:to-transparent\n    ",ghost:"\n      bg-transparent hover:bg-gold-500/10\n      text-gold-300 hover:text-gold-100\n      border border-transparent hover:border-gold-500/20\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      before:bg-gold-500/5\n    ",gradient:"\n      bg-gradient-to-r from-purple-500 via-gold-500 to-gold-600\n      text-white font-bold\n      hover:shadow-2xl\n      focus:ring-gold-400 focus:ring-offset-navy-800\n      bg-[length:200%_100%] bg-[position:0%_0%]\n      hover:bg-[position:100%_0%]\n      transition-all duration-500\n      before:bg-white/10\n    ",outline:"\n      bg-transparent \n      text-gold-400 hover:text-gold-300\n      border-2 border-gold-500/50 hover:border-gold-400\n      hover:bg-gold-500/10\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-md hover:shadow-gold-500/20\n      before:bg-gold-500/5\n    ",subtle:"\n      bg-gold-500/10 hover:bg-gold-500/20\n      text-gold-300 hover:text-gold-200\n      border border-gold-500/20 hover:border-gold-500/30\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-sm\n      before:bg-gold-500/5\n    ",success:"\n      bg-gradient-to-r from-green-500 to-green-600\n      hover:from-green-600 hover:to-green-700\n      text-white\n      focus:ring-green-400 focus:ring-offset-navy-800\n      hover:shadow-lg\n      shadow-md shadow-green-500/20\n      before:bg-gradient-to-r before:from-green-400/20 before:to-transparent\n    "},E={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl"},z=(0,t.jsxs)(t.Fragment,{children:[S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.A,{size:"xs"===i?"sm":i,className:"mr-1"}),(0,t.jsx)("span",{className:"sr-only",children:_("common.loading")}),(0,t.jsx)("span",{"aria-hidden":"true",children:_("common.loading")})]}):(0,t.jsxs)(t.Fragment,{children:[x&&"left"===m&&(0,t.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-x-0.5","aria-hidden":"true",children:x}),(0,t.jsxs)("span",{className:"relative z-10",children:[s,"gradient"===d&&(0,t.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),x&&"right"===m&&(0,t.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:translate-x-0.5","aria-hidden":"true",children:x})]}),(0,t.jsx)("span",{className:"absolute inset-0 rounded-inherit overflow-hidden pointer-events-none",children:(0,t.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})})]}),{onAnimationStart:M,...D}=w;return b?(0,t.jsx)(l.P.button,{ref:r||A,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"group ".concat(q," ").concat(C[d]," ").concat(E[i]," ").concat(j),disabled:y||S,onClick:k,"data-theme-variant":d,...D,children:z}):(0,t.jsx)("button",{ref:r||A,className:"group ".concat(q," ").concat(C[d]," ").concat(E[i]," hover:-translate-y-0.5 ").concat(j),disabled:y||S,onClick:k,"data-theme-variant":d,...D,children:z})});d.displayName="Button";let i=d},18979:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},19145:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},21260:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>k,dynamic:()=>A});var t=s(95155),o=s(12115),a=s(19145),l=s(18979),n=s(48021),d=s(5040),i=s(13717),c=s(62525),u=s(21380),x=s(84616),m=s(85339),g=s(74126),h=s(47924),f=s(54416),p=s(767),b=s(79720),v=s(35494),j=s(60567),y=s(46414),N=s(75143),w=s(50402),_=s(78266);let A="force-dynamic";function S(e){let{module:r,course:s,stats:o,onEdit:u,onDelete:x,isSelected:m,onToggleSelect:g}=e,{attributes:h,listeners:f,setNodeRef:p,transform:v,transition:j,isDragging:y,isSorting:N}=(0,w.gl)({id:r.id}),A={transform:_.Ks.Transform.toString(v),transition:j,opacity:y?.3:1,scale:y?1.05:1};return(0,t.jsx)("div",{ref:p,style:A,...h,...f,className:"\n        cursor-grab active:cursor-grabbing transition-all duration-200\n        ".concat(y?"z-50 rotate-2":"z-0","\n        ").concat(N?"cursor-grabbing":"","\n      "),children:(0,t.jsxs)(b.Ay,{variant:"gradient",className:"\n          relative group transition-all duration-200\n          ".concat(y?"shadow-2xl ring-2 ring-gold-500/50":"hover:shadow-xl","\n          ").concat(y||N?"":"hover:scale-[1.02]","\n        "),children:[y&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gold-500/20 to-transparent rounded-xl pointer-events-none"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),g(r.id)},className:"text-gold-400 hover:text-gold-200 transition-colors",children:m?(0,t.jsx)(a.A,{className:"w-5 h-5"}):(0,t.jsx)(l.A,{className:"w-5 h-5"})}),(0,t.jsx)(n.A,{className:"\n                  w-5 h-5 transition-all duration-200\n                  ".concat(y?"text-gold-400":"text-gold-500/30 group-hover:text-gold-500/50","\n                ")}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gold",children:r.title})]}),s&&(0,t.jsxs)("p",{className:"text-sm text-gold-400 mt-1 flex items-center gap-1 ml-7",children:[(0,t.jsx)(d.A,{className:"w-4 h-4"}),s.title]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),u(r)},className:"p-2 text-gold-400 hover:text-gold-200 hover:bg-navy-700 rounded-lg transition-colors",title:"Editar m\xf3dulo",children:(0,t.jsx)(i.A,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),x(r)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-navy-700 rounded-lg transition-colors",title:"Excluir m\xf3dulo",children:(0,t.jsx)(c.A,{className:"w-4 h-4"})})]})]}),r.description&&(0,t.jsx)("p",{className:"text-gold-300 text-sm ml-7",children:r.description}),(0,t.jsx)("div",{className:"flex items-center justify-between pt-4 border-t border-gold-500/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm ml-7",children:[(0,t.jsxs)("span",{className:"text-gold-400",children:[o.subjects," disciplina",1!==o.subjects?"s":""]}),(0,t.jsx)("span",{className:"\n                px-2 py-0.5 rounded text-xs\n                ".concat(!1===r.is_required?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300","\n              "),children:!1===r.is_required?"Opcional":"Obrigat\xf3rio"}),(0,t.jsxs)("span",{className:"\n                px-2 py-0.5 rounded transition-all duration-200\n                ".concat(y?"bg-gold-500/30 text-gold-200 font-semibold":"bg-navy-900/50 text-gold-400","\n              "),children:["Ordem: ",(r.order_index||0)+1]})]})})]})]})})}function k(){let[e,r]=(0,o.useState)([]),[s,d]=(0,o.useState)([]),[i,c]=(0,o.useState)(!0),[_,A]=(0,o.useState)(""),[k,q]=(0,o.useState)(!1),[C,E]=(0,o.useState)(null),[z,M]=(0,o.useState)({title:"",description:"",course_id:"",order_index:"0",is_required:!0}),[D,O]=(0,o.useState)(!1),[T,I]=(0,o.useState)(null),[P,F]=(0,o.useState)({}),[B,L]=(0,o.useState)(null),[V,H]=(0,o.useState)(!1),[R,U]=(0,o.useState)("all"),[G,J]=(0,o.useState)(new Set),[K,X]=(0,o.useState)(!1),Y=(0,y.U)(),Z=(0,N.FR)((0,N.MS)(N.AN,{activationConstraint:{distance:8}}),(0,N.MS)(N.uN,{coordinateGetter:w.JR}));(0,o.useEffect)(()=>{Q()},[]);let Q=async()=>{try{c(!0);let{data:e,error:s}=await Y.from("course_modules").select("*, courses!inner(id, title)").order("order_index");if(s)throw s;let{data:t,error:o}=await Y.from("courses").select("*").order("title");if(o)throw o;if(r(e||[]),d(t||[]),e&&e.length>0){let{data:r}=await Y.from("module_subjects").select("module_id");if(r){let s={};e.forEach(e=>{let t=r.filter(r=>r.module_id===e.id).length;s[e.id]={subjects:t}}),F(s)}}}catch(e){console.error("Error fetching data:",e),I({type:"error",text:"Erro ao carregar m\xf3dulos"})}finally{c(!1)}},W=async e=>{e.preventDefault(),O(!0),I(null);try{let e=parseInt(z.order_index)||0;if(C){let{data:r}=await Y.from("course_modules").select("id, order_index").eq("course_id",z.course_id).eq("order_index",e).neq("id",C.id).single();if(r){let e=C.order_index||0,{error:s}=await Y.from("course_modules").update({order_index:999999}).eq("id",C.id);if(s)throw s;let{error:t}=await Y.from("course_modules").update({order_index:e}).eq("id",r.id);if(t)throw t}let{error:s}=await Y.from("course_modules").update({title:z.title,description:z.description,course_id:z.course_id,order_index:e,is_required:z.is_required,updated_at:new Date().toISOString()}).eq("id",C.id);if(s)throw s;I({type:"success",text:"M\xf3dulo atualizado com sucesso!"})}else{let{data:r}=await Y.from("course_modules").select("id").eq("course_id",z.course_id).eq("order_index",e).single();if(r){let{data:r}=await Y.from("course_modules").select("id, order_index").eq("course_id",z.course_id).gte("order_index",e).order("order_index",{ascending:!1});if(r)for(let e of r)await Y.from("course_modules").update({order_index:(e.order_index||0)+1}).eq("id",e.id)}let{error:s}=await Y.from("course_modules").insert({title:z.title,description:z.description,course_id:z.course_id,order_index:e,is_required:z.is_required});if(s)throw s;I({type:"success",text:"M\xf3dulo criado com sucesso!"})}M({title:"",description:"",course_id:"",order_index:"0",is_required:!0}),E(null),q(!1),await Q()}catch(s){var r;console.error("Error saving module:",s);let e="Erro ao salvar m\xf3dulo";(null==(r=s.message)?void 0:r.includes("row-level security"))?e="Erro de permiss\xe3o. Verifique se voc\xea tem autoriza\xe7\xe3o para realizar esta a\xe7\xe3o.":s.message&&(e=s.message),I({type:"error",text:e})}finally{O(!1)}},$=e=>{var r,s;E(e),M({title:e.title,description:e.description||"",course_id:e.course_id,order_index:(null==(r=e.order_index)?void 0:r.toString())||"0",is_required:null==(s=e.is_required)||s}),q(!0)},ee=async e=>{if(confirm('Tem certeza que deseja excluir o m\xf3dulo "'.concat(e.title,'"? Isso remover\xe1 todas as associa\xe7\xf5es com disciplinas.')))try{let{error:r}=await Y.from("course_modules").delete().eq("id",e.id);if(r)throw r;I({type:"success",text:"M\xf3dulo exclu\xeddo com sucesso!"}),await Q()}catch(e){console.error("Error deleting module:",e),I({type:"error",text:e.message||"Erro ao excluir m\xf3dulo"})}},er=async()=>{if(0!==G.size&&confirm("Tem certeza que deseja excluir ".concat(G.size," m\xf3dulos permanentemente? Isso remover\xe1 todas as associa\xe7\xf5es com disciplinas."))){X(!0),I({type:"info",text:"Excluindo m\xf3dulos..."});try{let{error:e}=await Y.from("course_modules").delete().in("id",Array.from(G));if(e)throw e;I({type:"success",text:"".concat(G.size," m\xf3dulos exclu\xeddos com sucesso!")}),J(new Set),await Q()}catch(e){console.error("Error deleting modules:",e),I({type:"error",text:e.message||"Erro ao excluir m\xf3dulos"})}finally{X(!1)}}},es=e=>{let r=new Set(G);r.has(e)?r.delete(e):r.add(e),J(r)},et=()=>{J(new Set)},eo=async s=>{let{active:t,over:o}=s;if(L(null),!o||t.id===o.id)return;let a=e.findIndex(e=>e.id===t.id),l=e.findIndex(e=>e.id===o.id);if(-1===a||-1===l)return;let n=[...e],d=(0,w.be)(e,a,l);r(d),H(!0),I({type:"info",text:"Salvando nova ordem..."});try{var i,c,u;let e=null==(i=d[0])?void 0:i.course_id;if(!e)throw Error("Course ID not found");let r=d.filter(r=>r.course_id===e),s=r.map((e,r)=>Y.from("course_modules").update({order_index:1e5+r,updated_at:new Date().toISOString()}).eq("id",e.id).select()),t=(await Promise.all(s)).filter(e=>e.error);if(t.length>0)throw Error("Failed to update temporary indices: ".concat((null==(c=t[0].error)?void 0:c.message)||"Unknown error"));let o=r.map((e,r)=>Y.from("course_modules").update({order_index:r,updated_at:new Date().toISOString()}).eq("id",e.id).select()),a=(await Promise.all(o)).filter(e=>e.error);if(a.length>0)throw Error("Failed to update final indices: ".concat((null==(u=a[0].error)?void 0:u.message)||"Unknown error"));I({type:"success",text:"✓ Ordem atualizada com sucesso!"}),setTimeout(()=>{Q()},500)}catch(e){console.error("Error reordering modules:",e),I({type:"error",text:"Erro ao reordenar: ".concat(e.message||"Tente novamente")}),r(n)}finally{H(!1)}},ea=[...e.filter(e=>{var r;let s=e.title.toLowerCase().includes(_.toLowerCase())||(null==(r=e.description)?void 0:r.toLowerCase().includes(_.toLowerCase())),t="all"===R||e.course_id===R;return s&&t})].sort((e,r)=>{var t,o;let a=(null==(t=s.find(r=>r.id===e.course_id))?void 0:t.title)||"",l=(null==(o=s.find(e=>e.id===r.course_id))?void 0:o.title)||"",n=a.localeCompare(l);return 0!==n?n:(e.order_index||0)-(r.order_index||0)}),el=B?e.find(e=>e.id===B):null;return i?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)(j.A,{size:"lg"})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)(v.A,{className:"mb-2"}),(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gold flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-8 h-8"}),"M\xf3dulos"]}),(0,t.jsx)("p",{className:"text-gold-300 mt-1",children:"Gerencie os m\xf3dulos dos cursos. Arraste para reordenar."})]}),(0,t.jsx)(p.A,{onClick:()=>{E(null),M({title:"",description:"",course_id:"",order_index:(e.length>0?Math.max(...e.map(e=>e.order_index||0))+1:0).toString(),is_required:!0}),q(!0)},icon:(0,t.jsx)(x.A,{className:"w-4 h-4"}),children:"Novo M\xf3dulo"})]}),T&&(0,t.jsx)(b.Ay,{variant:"gradient",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["success"===T.type?(0,t.jsx)(m.A,{className:"w-5 h-5 text-green-400"}):"error"===T.type?(0,t.jsx)(m.A,{className:"w-5 h-5 text-red-400"}):(0,t.jsx)(j.A,{size:"sm",className:"text-blue-400"}),(0,t.jsx)("p",{className:"success"===T.type?"text-green-300":"error"===T.type?"text-red-300":"text-blue-300",children:T.text})]})}),G.size>0&&(0,t.jsxs)("div",{className:"bg-gold-500/10 border border-gold-500/30 rounded-lg p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-gold-200 font-medium",children:[G.size," ",1===G.size?"m\xf3dulo selecionado":"m\xf3dulos selecionados"]}),(0,t.jsx)("button",{onClick:et,className:"text-gold-400 hover:text-gold-200 text-sm underline",children:"Desmarcar todos"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(p.A,{variant:"danger",size:"sm",icon:(0,t.jsx)(g.A,{className:"w-4 h-4"}),onClick:er,disabled:K,children:K?"Excluindo...":"Excluir Selecionados"})})]}),(0,t.jsx)(b.Ay,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gold-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar m\xf3dulos...",value:_,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 placeholder-gold-400/50 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),(0,t.jsxs)("select",{value:R,onChange:e=>U(e.target.value),className:"px-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[(0,t.jsx)("option",{value:"all",children:"Todos os cursos"}),s.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[ea.length>0&&(0,t.jsxs)("button",{onClick:G.size===ea.length?et:()=>{J(new Set(ea.map(e=>e.id)))},className:"flex items-center gap-2 text-gold-400 hover:text-gold-200 transition-colors",children:[G.size===ea.length?(0,t.jsx)(a.A,{className:"w-5 h-5"}):(0,t.jsx)(l.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:G.size===ea.length?"Desmarcar todos":"Selecionar todos"})]}),ea.length>1&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gold-400/70",children:[(0,t.jsx)(n.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Arraste os cards para reordenar os m\xf3dulos"})]})]})]})}),(0,t.jsxs)("div",{className:"relative",children:[V&&(0,t.jsx)("div",{className:"absolute inset-0 bg-navy-900/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-xl",children:(0,t.jsx)("div",{className:"bg-navy-800 px-4 py-2 rounded-lg border border-gold-500/20",children:(0,t.jsx)("p",{className:"text-gold-300",children:"Salvando altera\xe7\xf5es..."})})}),(0,t.jsxs)(N.Mp,{sensors:Z,collisionDetection:N.fp,onDragStart:e=>{L(e.active.id)},onDragEnd:eo,children:[(0,t.jsx)(w.gB,{items:ea.map(e=>e.id),strategy:w._G,children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ea.length>0?ea.map(e=>{let r=s.find(r=>r.id===e.course_id),o=P[e.id]||{subjects:0};return(0,t.jsx)(S,{module:e,course:r,stats:o,onEdit:$,onDelete:ee,isSelected:G.has(e.id),onToggleSelect:es},e.id)}):(0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(b.Ay,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(u.A,{className:"w-16 h-16 text-gold-500/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gold-300",children:_?"Nenhum m\xf3dulo encontrado":"Nenhum m\xf3dulo cadastrado"})]})})})})}),(0,t.jsx)(N.Hd,{children:el?(0,t.jsx)("div",{className:"transform rotate-3 scale-105",children:(0,t.jsx)(b.Ay,{variant:"gradient",className:"shadow-2xl ring-2 ring-gold-500 bg-navy-800/95",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3",children:[(0,t.jsx)(n.A,{className:"w-5 h-5 text-gold-400 animate-pulse"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gold-200 font-semibold",children:el.title}),(0,t.jsx)("p",{className:"text-gold-400 text-xs",children:"Solte para reordenar"})]})]})})}):null})]})]}),k&&(0,t.jsx)("div",{className:"fixed inset-0 bg-navy-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:(0,t.jsxs)("div",{className:"bg-navy-800 rounded-2xl max-w-md w-full p-6 border border-gold-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gold",children:C?"Editar M\xf3dulo":"Novo M\xf3dulo"}),(0,t.jsx)("button",{onClick:()=>q(!1),className:"text-gold-400 hover:text-gold-200 transition-colors",children:(0,t.jsx)(f.A,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gold-200 mb-2",children:"T\xedtulo do M\xf3dulo *"}),(0,t.jsx)("input",{type:"text",required:!0,value:z.title,onChange:e=>M({...z,title:e.target.value}),className:"w-full px-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 placeholder-gold-400/50 focus:outline-none focus:ring-2 focus:ring-gold-500 focus-ring",placeholder:"Ex: M\xf3dulo 1: Fundamentos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gold-200 mb-2",children:"Curso *"}),(0,t.jsxs)("select",{required:!0,value:z.course_id,onChange:r=>{let s=r.target.value,t=e.filter(e=>e.course_id===s),o=t.length>0?Math.max(...t.map(e=>e.order_index||0))+1:0;M({...z,course_id:s,order_index:o.toString()})},className:"w-full px-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 focus:outline-none focus:ring-2 focus:ring-gold-500 focus-ring",children:[(0,t.jsx)("option",{value:"",children:"Selecione um curso"}),s.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gold-200 mb-2",children:"Ordem no Curso"}),(0,t.jsx)("input",{type:"number",value:z.order_index,onChange:e=>M({...z,order_index:e.target.value}),className:"w-full px-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 placeholder-gold-400/50 focus:outline-none focus:ring-2 focus:ring-gold-500 focus-ring",placeholder:"Ex: 0",min:"0",step:"1"}),(0,t.jsx)("p",{className:"text-xs text-gold-300 mt-1",children:"Posi\xe7\xe3o do m\xf3dulo (preenchido automaticamente com o pr\xf3ximo n\xfamero dispon\xedvel)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gold-200 mb-2",children:"Tipo de M\xf3dulo"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"is_required",checked:!0===z.is_required,onChange:()=>M({...z,is_required:!0}),className:"mr-2 w-4 h-4 text-gold-500 bg-navy-900 border-gold-500/50 focus:ring-gold-500 focus:ring-2"}),(0,t.jsx)("span",{className:"text-gold-100",children:"Obrigat\xf3rio"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"is_required",checked:!1===z.is_required,onChange:()=>M({...z,is_required:!1}),className:"mr-2 w-4 h-4 text-gold-500 bg-navy-900 border-gold-500/50 focus:ring-gold-500 focus:ring-2"}),(0,t.jsx)("span",{className:"text-gold-100",children:"Opcional"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gold-200 mb-2",children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{value:z.description,onChange:e=>M({...z,description:e.target.value}),className:"w-full px-4 py-2 bg-navy-900/50 border border-gold-500/20 rounded-lg text-gold-100 placeholder-gold-400/50 focus:outline-none focus:ring-2 focus:ring-gold-500 focus-ring",placeholder:"Breve descri\xe7\xe3o do m\xf3dulo...",rows:3})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(p.A,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>q(!1),disabled:D,children:"Cancelar"}),(0,t.jsx)(p.A,{type:"submit",className:"flex-1",disabled:D,children:D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{size:"sm",className:"mr-2"}),"Salvando..."]}):C?"Salvar Altera\xe7\xf5es":"Criar M\xf3dulo"})]})]})]})})]})}},21380:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},35494:(e,r,s)=>{"use strict";s.d(r,{A:()=>u});var t=s(95155),o=s(12115),a=s(6874),l=s.n(a),n=s(35695),d=s(13052),i=s(57340),c=s(38274);function u(e){let{items:r,separator:s=(0,t.jsx)(d.A,{className:"w-4 h-4 text-gold-600"}),showHome:a=!0,maxItems:u=5,className:x=""}=e,m=(0,n.usePathname)(),g=r||(()=>{let e=m.split("/").filter(Boolean),r=[];a&&r.push({label:"In\xedcio",href:"dashboard"===e[0]?"/dashboard":"/student-dashboard",icon:(0,t.jsx)(i.A,{className:"w-4 h-4"})});let s="";return e.forEach((t,o)=>{if(s+="/".concat(t),a&&0===o&&("dashboard"===t||"student-dashboard"===t))return;let l=t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");r.push({label:l,href:o===e.length-1?void 0:s})}),r})(),h=g.length<=u?g:[g[0],{label:"...",href:void 0},...g.slice(-(u-2))];return(0,t.jsx)("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 ".concat(x),children:h.map((e,r)=>(0,t.jsxs)(o.Fragment,{children:[r>0&&(0,t.jsx)("span",{className:"text-gold-600",children:s}),(0,t.jsx)(c.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-center",children:e.href?(0,t.jsxs)(l(),{href:e.href,className:"flex items-center gap-1.5 text-sm font-medium text-gold-400 hover:text-gold-200 transition-colors",children:[e.icon,(0,t.jsx)("span",{children:e.label})]}):(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-sm font-medium text-gold-100","aria-current":"page",children:[e.icon,(0,t.jsx)("span",{children:e.label})]})})]},r))})}},49888:(e,r,s)=>{Promise.resolve().then(s.bind(s,21260))},74126:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},84616:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},e=>{e.O(0,[3254,9051,7244,6227,1338,9760,8441,5964,7358],()=>e(e.s=49888)),_N_E=e.O()}]);