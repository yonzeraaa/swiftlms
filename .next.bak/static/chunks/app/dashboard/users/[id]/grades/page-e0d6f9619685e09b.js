(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6593],{35169:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},54668:(e,s,a)=>{Promise.resolve().then(a.bind(a,82442))},71007:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},82442:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var l=a(95155),t=a(12115),n=a(35695),r=a(46414),d=a(13730),i=a(35169),c=a(71007),o=a(69074),x=a(79720),u=a(767),m=a(6874),h=a.n(m);function g(e){let{params:s}=e,a=(0,t.use)(s),[m,g]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[j,N]=(0,t.useState)({start:new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[v,y]=(0,t.useState)(!0),[b,w]=(0,t.useState)(!1),A=(0,n.useRouter)(),k=(0,r.U)();(0,t.useEffect)(()=>{S()},[a.id]);let S=async()=>{try{let{data:{user:e}}=await k.auth.getUser();if(!e)return void A.push("/login");let{data:s}=await k.from("profiles").select("role").eq("id",e.id).single();if((null==s?void 0:s.role)!=="admin")return void A.push("/dashboard");w(!0);let{data:l}=await k.from("profiles").select("full_name, email").eq("id",a.id).single();l?(g(l.full_name||l.email||"Aluno"),f(l.email||"")):A.push("/dashboard/users")}catch(e){console.error("Erro ao buscar informa\xe7\xf5es:",e),A.push("/dashboard/users")}finally{y(!1)}};return v?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"h-12 bg-navy-800/50 rounded-lg animate-pulse w-64"}),(0,l.jsx)("div",{className:"h-32 bg-navy-800/50 rounded-xl animate-pulse"}),(0,l.jsx)("div",{className:"h-96 bg-navy-800/50 rounded-xl animate-pulse"})]}):b?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,l.jsx)(h(),{href:"/dashboard/users",children:(0,l.jsx)(u.A,{variant:"ghost",size:"sm",icon:(0,l.jsx)(i.A,{className:"w-4 h-4"}),children:"Voltar"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gold-400",children:[(0,l.jsx)("span",{children:"Dashboard"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)("span",{children:"Usu\xe1rios"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)("span",{className:"text-gold",children:m}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)("span",{className:"text-gold",children:"Notas"})]})]}),(0,l.jsx)(x.Ay,{className:"bg-gradient-to-r from-navy-800/50 to-navy-900/50",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full bg-gold-500/20 flex items-center justify-center",children:(0,l.jsx)(c.A,{className:"w-8 h-8 text-gold"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gold",children:"Hist\xf3rico de Notas"}),(0,l.jsxs)("p",{className:"text-gold-300",children:[(0,l.jsx)("span",{className:"font-medium",children:"Aluno:"})," ",m]}),p&&(0,l.jsxs)("p",{className:"text-gold-400 text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Email:"})," ",p]})]})]})}),(0,l.jsx)(x.Ay,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(o.A,{className:"w-4 h-4 text-gold-400"}),(0,l.jsx)("span",{className:"text-gold-300 text-sm font-medium",children:"Filtrar por per\xedodo:"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"date",value:j.start,onChange:e=>N({...j,start:e.target.value}),className:"px-3 py-1.5 bg-navy-900/50 border border-gold-500/30 rounded-lg text-gold-100 text-sm focus:outline-none focus:ring-2 focus:ring-gold-500"}),(0,l.jsx)("span",{className:"text-gold-400",children:"at\xe9"}),(0,l.jsx)("input",{type:"date",value:j.end,onChange:e=>N({...j,end:e.target.value}),className:"px-3 py-1.5 bg-navy-900/50 border border-gold-500/30 rounded-lg text-gold-100 text-sm focus:outline-none focus:ring-2 focus:ring-gold-500"})]})]})}),(0,l.jsx)(d.A,{userId:a.id,userName:m,showHeader:!1,allowExport:!0,dateRange:j})]}):null}}},e=>{e.O(0,[3524,3254,9051,7244,1338,9760,473,4905,8441,5964,7358],()=>e(e.s=54668)),_N_E=e.O()}]);