(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{767:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(95155),a=r(12115),o=r(60567),n=r(38274),l=r(30461);let d=(0,a.forwardRef)((e,s)=>{let{children:r,variant:d="primary",size:i="md",isLoading:c=!1,loading:u=!1,icon:g,iconPosition:h="left",fullWidth:x=!1,rounded:p="lg",pulse:f=!1,glow:m=!1,enableMotion:b=!1,ripple:v=!0,className:w="",disabled:y,onClick:j,...N}=e,{t:k}=(0,l.B)(),P=(0,a.useRef)(null),A=c||u,E=e=>{y||A||(e=>{if(!v)return;let r=P.current||(null==s?void 0:s.current);if(!r)return;let t=r.getBoundingClientRect(),a=document.createElement("span"),o=Math.max(t.width,t.height),n=e.clientX-t.left-o/2,l=e.clientY-t.top-o/2;a.style.width=a.style.height=o+"px",a.style.left=n+"px",a.style.top=l+"px",a.classList.add("ripple"),r.appendChild(a),setTimeout(()=>{a.remove()},600)})(e),null==j||j(e)},S="\n    relative overflow-hidden font-semibold ".concat({sm:"rounded",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[p],"\n    transition-all duration-300 ease-out\n    focus:outline-none focus:ring-2 focus:ring-offset-2 \n    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n    flex items-center justify-center gap-2\n    transform active:scale-[0.98]\n    ").concat(x?"w-full":"","\n    ").concat(f?"animate-pulse":"","\n    ").concat(m?"shadow-glow hover:shadow-glow-lg":"","\n    before:absolute before:inset-0 before:opacity-0 before:transition-opacity before:duration-300\n    hover:before:opacity-100\n  "),_={primary:"\n      bg-gradient-to-r from-gold-500 to-gold-600 \n      hover:from-gold-600 hover:to-gold-700 \n      text-navy-900 \n      focus:ring-gold-400 focus:ring-offset-navy-800 \n      hover:shadow-xl\n      shadow-lg shadow-gold-500/20\n      before:bg-gradient-to-r before:from-gold-400/20 before:to-transparent\n      group\n    ",secondary:"\n      bg-navy-700/50 hover:bg-navy-600/50 \n      text-gold-200 hover:text-gold-100\n      border border-gold-500/30 hover:border-gold-500/50\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      backdrop-blur-sm\n      hover:shadow-md hover:shadow-gold-500/10\n      before:bg-gradient-to-r before:from-gold-500/10 before:to-transparent\n    ",danger:"\n      bg-red-600 hover:bg-red-700 \n      text-white \n      focus:ring-red-400 focus:ring-offset-navy-800\n      hover:shadow-lg shadow-red-500/20\n      before:bg-gradient-to-r before:from-red-400/20 before:to-transparent\n    ",ghost:"\n      bg-transparent hover:bg-gold-500/10\n      text-gold-300 hover:text-gold-100\n      border border-transparent hover:border-gold-500/20\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      before:bg-gold-500/5\n    ",gradient:"\n      bg-gradient-to-r from-purple-500 via-gold-500 to-gold-600\n      text-white font-bold\n      hover:shadow-2xl\n      focus:ring-gold-400 focus:ring-offset-navy-800\n      bg-[length:200%_100%] bg-[position:0%_0%]\n      hover:bg-[position:100%_0%]\n      transition-all duration-500\n      before:bg-white/10\n    ",outline:"\n      bg-transparent \n      text-gold-400 hover:text-gold-300\n      border-2 border-gold-500/50 hover:border-gold-400\n      hover:bg-gold-500/10\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-md hover:shadow-gold-500/20\n      before:bg-gold-500/5\n    ",subtle:"\n      bg-gold-500/10 hover:bg-gold-500/20\n      text-gold-300 hover:text-gold-200\n      border border-gold-500/20 hover:border-gold-500/30\n      focus:ring-gold-500 focus:ring-offset-navy-800\n      hover:shadow-sm\n      before:bg-gold-500/5\n    ",success:"\n      bg-gradient-to-r from-green-500 to-green-600\n      hover:from-green-600 hover:to-green-700\n      text-white\n      focus:ring-green-400 focus:ring-offset-navy-800\n      hover:shadow-lg\n      shadow-md shadow-green-500/20\n      before:bg-gradient-to-r before:from-green-400/20 before:to-transparent\n    "},M={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl"},C=(0,t.jsxs)(t.Fragment,{children:[A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{size:"xs"===i?"sm":i,className:"mr-1"}),(0,t.jsx)("span",{className:"sr-only",children:k("common.loading")}),(0,t.jsx)("span",{"aria-hidden":"true",children:k("common.loading")})]}):(0,t.jsxs)(t.Fragment,{children:[g&&"left"===h&&(0,t.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-x-0.5","aria-hidden":"true",children:g}),(0,t.jsxs)("span",{className:"relative z-10",children:[r,"gradient"===d&&(0,t.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),g&&"right"===h&&(0,t.jsx)("span",{className:"transition-all duration-300 group-hover:scale-110 group-hover:translate-x-0.5","aria-hidden":"true",children:g})]}),(0,t.jsx)("span",{className:"absolute inset-0 rounded-inherit overflow-hidden pointer-events-none",children:(0,t.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})})]}),{onAnimationStart:R,...T}=N;return b?(0,t.jsx)(n.P.button,{ref:s||P,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"group ".concat(S," ").concat(_[d]," ").concat(M[i]," ").concat(w),disabled:y||A,onClick:E,"data-theme-variant":d,...T,children:C}):(0,t.jsx)("button",{ref:s||P,className:"group ".concat(S," ").concat(_[d]," ").concat(M[i]," hover:-translate-y-0.5 ").concat(w),disabled:y||A,onClick:E,"data-theme-variant":d,...T,children:C})});d.displayName="Button";let i=d},5196:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6654:(e,s,r)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return a}});let t=r(12115);function a(e,s){let r=(0,t.useRef)(null),a=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=r.current;e&&(r.current=null,e());let s=a.current;s&&(a.current=null,s())}else e&&(r.current=o(e,t)),s&&(a.current=o(s,t))},[e,s])}function o(e,s){if("function"!=typeof e)return e.current=s,()=>{e.current=null};{let r=e(s);return"function"==typeof r?r:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},21893:(e,s,r)=>{Promise.resolve().then(r.bind(r,77843))},32919:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},34869:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},35169:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,s,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},55870:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(95155),a=r(66766);function o(e){let{className:s="",width:r=64,height:o=64,showText:n=!1}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(s),children:[(0,t.jsx)(a.default,{src:"/images/swiftbg.png",alt:"SwiftEDU Logo",width:r,height:o,className:"object-contain",priority:!0}),n&&(0,t.jsx)("span",{className:"font-bold text-xl text-gold-500",children:"SWIFTEDU"})]})}},60567:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(95155);r(12115);let a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};function o(e){let{size:s="md",className:r="",colorClass:o="border-gold-500"}=e;return(0,t.jsx)("div",{"aria-label":"Carregando",role:"status",className:"animate-spin rounded-full ".concat(a[s]," border-2 ").concat(o," border-t-transparent ").concat(r)})}},77843:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(95155),a=r(12115),o=r(35695),n=r(34869),l=r(5196),d=r(85339),i=r(35169),c=r(32919),u=r(78749),g=r(92657),h=r(46414),x=r(30461),p=r(55870),f=r(767);function m(){let[e,s]=(0,a.useState)(""),[r,m]=(0,a.useState)(""),[b,v]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[k,P]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[S,_]=(0,a.useState)("idle"),[M,C]=(0,a.useState)(null),R=(0,o.useRouter)(),T=(0,o.useSearchParams)(),{t:B,language:F,setLanguage:z}=(0,x.B)(),q=(0,h.U)();(0,a.useEffect)(()=>{(async()=>{try{let e=T.get("error"),s=T.get("error_code"),r=T.get("error_description");if("access_denied"===e&&"otp_expired"===s){_("expired"),C(B("resetPassword.linkExpired"));return}if(e){_("error"),C(r||B("resetPassword.linkInvalid"));return}let t=T.get("access_token"),a=T.get("refresh_token"),o=T.get("type");if(console.log("Reset password params:",{accessToken:!!t,refreshToken:!!a,tokenType:o}),t&&a&&"recovery"===o){console.log("Estabelecendo sess\xe3o com tokens de recupera\xe7\xe3o...");let{data:e,error:s}=await q.auth.setSession({access_token:t,refresh_token:a});s?(console.error("Erro ao estabelecer sess\xe3o:",s),s.message.includes("expired")||s.message.includes("invalid")?(_("expired"),C(B("resetPassword.sessionExpired"))):C(s.message||B("resetPassword.sessionError"))):e.session?(console.log("Sess\xe3o estabelecida com sucesso para reset de senha"),window.history.replaceState({},document.title,"/reset-password")):(console.error("Sess\xe3o n\xe3o p\xf4de ser estabelecida"),_("expired"),C(B("resetPassword.sessionExpired")))}else if("recovery"===o)_("expired"),C(B("resetPassword.linkExpired"));else{let{data:{session:e}}=await q.auth.getSession();e||(console.log("Nenhuma sess\xe3o ativa e nenhum token de recupera\xe7\xe3o"),_("expired"),C(B("resetPassword.linkExpired")))}}catch(e){console.error("Erro na inicializa\xe7\xe3o da sess\xe3o:",e),C(B("resetPassword.unexpectedError"))}})()},[T,B,q]);let L=async s=>{if(s.preventDefault(),E(!0),C(null),!(e.trim()?e.length<6?(C(B("resetPassword.passwordTooShort")),!1):e===r||(C(B("resetPassword.passwordMismatch")),!1):(C(B("resetPassword.passwordRequired")),!1)))return void E(!1);try{let{error:s}=await q.auth.updateUser({password:e});if(s){console.error("Erro ao redefinir senha:",s),s.message.includes("expired")||s.message.includes("invalid")?(_("expired"),C(B("resetPassword.sessionExpired"))):C(s.message||B("resetPassword.updateError")),E(!1);return}_("success"),E(!1),setTimeout(()=>{R.push("/")},3e3)}catch(e){console.error("Erro inesperado:",e),C(B("resetPassword.unexpectedError")),E(!1)}},O=()=>{R.push("/")};return(0,t.jsxs)("div",{className:"min-h-screen bg-pattern relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-navy-600/50 via-navy-700/50 to-navy-900/50"}),(0,t.jsx)("div",{className:"relative min-h-screen flex items-center justify-center px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-navy-800/80 backdrop-blur-sm rounded-lg px-3 py-2 border border-gold-500/20",children:[(0,t.jsx)(n.A,{className:"w-4 h-4 text-gold-400"}),(0,t.jsxs)("select",{value:F,onChange:e=>z(e.target.value),className:"bg-transparent text-gold-200 text-base focus:outline-none cursor-pointer","aria-label":B("settings.language"),children:[(0,t.jsx)("option",{value:"pt-BR",className:"bg-navy-800",children:"Portugu\xeas (BR)"}),(0,t.jsx)("option",{value:"en-US",className:"bg-navy-800",children:"English (US)"}),(0,t.jsx)("option",{value:"es-ES",className:"bg-navy-800",children:"Espa\xf1ol (ES)"})]})]})}),(0,t.jsx)("div",{className:"glass-morphism border-gradient rounded-3xl shadow-2xl p-1",children:(0,t.jsxs)("div",{className:"bg-navy-800/90 rounded-3xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-2",children:(0,t.jsx)(p.A,{width:180,height:80,className:"transform hover:scale-110 transition-transform duration-300"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gold mb-2",children:"expired"===S?B("resetPassword.expiredTitle"):B("resetPassword.title")}),(0,t.jsx)("p",{className:"text-gold-300 text-base",children:"expired"===S?B("resetPassword.expiredSubtitle"):B("resetPassword.subtitle")})]}),"success"===S?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(l.A,{className:"w-8 h-8 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-green-400 mb-2",children:B("resetPassword.successTitle")}),(0,t.jsx)("p",{className:"text-gold-300 text-sm",children:B("resetPassword.successMessage")})]})]}):"expired"===S?(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(d.A,{className:"w-8 h-8 text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-orange-400 mb-2",children:B("resetPassword.linkExpiredTitle")}),(0,t.jsx)("p",{className:"text-gold-300 text-sm mb-6",children:B("resetPassword.linkExpiredMessage")}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(f.A,{onClick:()=>{R.push("/?forgot-password=true")},variant:"primary",className:"w-full",children:B("resetPassword.requestNewLink")}),(0,t.jsx)(f.A,{onClick:O,variant:"secondary",className:"w-full",icon:(0,t.jsx)(i.A,{className:"w-4 h-4"}),children:B("resetPassword.backToLogin")})]})]})]}):(0,t.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-base font-medium text-gold-200",children:B("resetPassword.newPassword")}),(0,t.jsxs)("div",{className:"relative transition-all duration-300 ".concat(j?"scale-105":""),children:[(0,t.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gold-400"}),(0,t.jsx)("input",{type:b?"text":"password",id:"password",value:e,onChange:e=>s(e.target.value),onFocus:()=>N(!0),onBlur:()=>N(!1),className:"w-full pl-10 pr-12 py-3 bg-navy-900/50 border border-navy-600 rounded-xl text-gold-100 text-base placeholder-gold-300/50 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all",placeholder:B("resetPassword.passwordPlaceholder"),disabled:A,required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>v(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gold-400 hover:text-gold-300 transition-colors",disabled:A,children:b?(0,t.jsx)(u.A,{className:"w-4 h-4"}):(0,t.jsx)(g.A,{className:"w-4 h-4"})})]}),(0,t.jsx)("p",{className:"text-xs text-gold-300/70 mt-1",children:B("resetPassword.passwordRequirement")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-base font-medium text-gold-200",children:B("resetPassword.confirmPassword")}),(0,t.jsxs)("div",{className:"relative transition-all duration-300 ".concat(k?"scale-105":""),children:[(0,t.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gold-400"}),(0,t.jsx)("input",{type:w?"text":"password",id:"confirmPassword",value:r,onChange:e=>m(e.target.value),onFocus:()=>P(!0),onBlur:()=>P(!1),className:"w-full pl-10 pr-12 py-3 bg-navy-900/50 border border-navy-600 rounded-xl text-gold-100 text-base placeholder-gold-300/50 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all",placeholder:B("resetPassword.confirmPasswordPlaceholder"),disabled:A,required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>y(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gold-400 hover:text-gold-300 transition-colors",disabled:A,children:w?(0,t.jsx)(u.A,{className:"w-4 h-4"}):(0,t.jsx)(g.A,{className:"w-4 h-4"})})]})]}),M&&(0,t.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-400",children:M})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(f.A,{type:"submit",variant:"primary",loading:A,className:"w-full",children:B("resetPassword.updatePassword")}),(0,t.jsx)(f.A,{type:"button",variant:"secondary",onClick:O,disabled:A,className:"w-full",icon:(0,t.jsx)(i.A,{className:"w-4 h-4"}),children:B("resetPassword.backToLogin")})]})]})]})})]})})]})}function b(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(m,{})})}},78749:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},85339:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92657:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[3254,9051,6766,1338,8441,5964,7358],()=>e(e.s=21893)),_N_E=e.O()}]);